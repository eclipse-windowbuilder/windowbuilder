ifdef::env-github[]
:imagesdir: ../../../../html/features/swt/data_binding
endif::[]

= SWT/JFace Data Binding Example

As an example of how the the data binding tools can be used, consider the following *Phone Book* example. The phone book
manages a set of phone groups. Each phone group in turn holds onto one or more persons. For each person, various e-mail
and phone contact information is maintained. Editing a person's description should update the same data shown in the
list. The final code for the *Phone Book* project is available link:DataBindingTest.zip[here].

NOTE: _You need to add the following plugins to your classpath: *org.eclipse.core.databinding.property.* and 
org.eclipse.core.databinding.observable._

1. *Use Designer to create the skeleton of the PhoneBook.java class* +
   image:images/example1.gif[image]

2. *Create the following model classes:*
** *Class Person with properties: name, email, phone, mobilePhone1, mobilePhone2*
** *Class PhoneGroup with properties: name, persons*
** *Class PhoneGroups with properties: groups*

3. *Add the following to the PhoneBook class:* +
+
[source,java]
----
private PhoneGroups m_groups = new PhoneGroups();
----
+
*And add some initial data:*
+
[source,java]
----
PhoneGroup group1 = new PhoneGroup("Developer Team");
m_groups.addGroup(group1);
group1.addPerson(new Person("Konstantin Scheglov", "kosta@nospam.com", "1234567890", "", ""));
group1.addPerson(new Person("Alexander Mitin", "mitin@nospam.com", "", "0987654321", ""));
group1.addPerson(new Person("Alexander Lobas", "lobas@nospam.com", "", "", "111-222-333-00"));
----

4. *Set the content for the group viewer. Click the Bindings tab in the editor. Select m_groupViewer in the Targets
  (Widgets) list, input in the Target Properties list, select m_groups in the Model
  image:images/data_binding_beans_button.gif[image] Model (Beans) list, and groups in the Model Properties list.* +
  image:../../../wizards/databinding/images/data_binding_tab.gif[image] +
  image:images/example2.gif[image]

5. *Click the image:images/binding_button.gif[image] Bind button to open the Create Data Binding dialog. m_groups.group
   contains elements of type PhoneGroup, so select the type PhoneGroup and its name property.* +
   image:images/example3.gif[image]Â image:images/example4.gif[image]

6. *Click OK to see m_groups.groups bound to m_groupsViewer in the table.* +
   image:images/example5.gif[image] +

7. *Run the application to see that the list of phone groups is populated.* +
   image:images/example6.gif[image]

8. *Next we would like selecting a group to show all of its contained persons. Switch back to the Bindings tab. Select
   the input of the m_personViewer in the Target Widget list and m_groupViewer and part of selection in the Model Widget
   list and click the image:images/binding_button.gif[image] Bind button to open the Create Data Binding dialog.* +
   image:images/example7.gif[image]
   image:images/example7a.gif[image]

9. *The selection type of m_groupViewer is a PhoneGroup bean, so select it in the Master Bean class list. The Properties
   list then shows all of the properties that can be used for input to m_peopleViewer. Select the property persons as it
   contains elements of the type Person.* +
   image:images/example8.gif[image]

10. *We need to show a Person object in m_personViewer, so select the class Person in the Element bean class list (use
    the "..." button to add it to the list, if necessary). Select and order the Person properties that should be shown
    in the table.* +
    image:images/example9.gif[image] +
    image:images/example10.gif[image]

11. *Click OK twice and run the application. See that selecting a group now updates the Persons list.* +
    image:images/example11.gif[image] +

12. *Switch back to the Bindings tab. Next we need to bind part of selection of the m_personViewer (a Person object)
    into the various text editors.* +
    image:images/example12.gif[image]

13. *Select the first Text widget (m_nameText) and its text property. Click the image:images/binding_button.gif[image]
    Bind button to open the Bind Properties dialog. Leave the update value strategies unchanged. Since each Text field
    is bound to a different property of of the selection, choose the appropriate property from the Properties list 
    (name for the m_nameText text field). +
    image:images/example13.gif[image]

14. *Bind each selection property to its associated Text field.* +
    image:images/example14.gif[image] +

15. *Run the application. See that selecting a group updates the Persons list and selecting a Person now updates each of
    the Text fields.* +
    image:images/example15.gif[image]

16. *Also note that changing any of the data in the text fields immediately updates the data in the table. The magic of
    data binding!* +
    image:images/example16.gif[image]*