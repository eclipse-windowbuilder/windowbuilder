ifdef::env-github[]
:imagesdir: ../../../../html/features/swt/data_binding
endif::[]

= JFace Data Bindings

Click the *Bindings* tab in the editor to created and edit data bindings.

image:../../../wizards/databinding/images/data_binding_tab.gif[image]

image:images/data_binding_jface1.gif[image]

*JFace Viewers* can bind to a content provider, label provider and input object. The content provider (an
*ObservableListContentProvider* or *ObservableSetContentProvider*) is calculated automatically based on the input. The
label provider (and *ObservableMapLabelProvider*) is created based on the observed bean and its selected properties.

== Viewers

Any viewers defined in the current compilation unit are shown in the widget list. Several properties including the input
can be selected in the properties list

image:images/viewers.gif[image]

== Input Types

Several types of inputs are supported:

* image:images/data_binding_beans_button.gif[image] *Collections*: any field of the current compilation unit that is a
  *java.lang.List* or *java.lang.Set* may be selected. The filter field above the list can be used to filter the list of
  collections. The image:images/clear_filter_button.gif[image] clear button can be used to clear the filter and restore
  the full list. +
  image:images/input_collection.gif[image]
 
* image:images/data_binding_beans_button.gif[image] *Beans*: any field of the current compilation unit may be selected.
  The filter field above the list can be used to filter the list of beans. The
  image:images/clear_filter_button.gif[image] clear button can be used to clear the filter and restore the full list.
  *Beans* are the primary data source for bindings (usually the model). Any property of the *Bean* may be observed. +
  image:images/input_beans.gif[image]
 
* image:images/data_binding_widgets_button.gif[image] *Selection*: any object (usually a JFace viewer) with a
  *selection* property of type *org.eclipse.jface.viewers.IStructuredSelection* may be selected. The filter field above
  the list can be used to filter the list of selections. The image:images/clear_filter_button.gif[image] clear button
  can be used to clear the filter and restore the full list. Typically, the selection of one viewer is bound to the
  input of another viewer in a master-detail relationship. If the selection target provide multiple selection or checked
  elements, those are available as inputs as well. +
  image:images/input_selection.gif[image]

== New JFace Bindings

New bindings are created by selecting a *Viewer*, an *Input* and clicking the image:images/binding_button.gif[image]
*Bind* button. When creating a binding, the *Content Provider* and *Label Provider* may be specified.

--
image:images/edit_binding_jface1.gif[image] 
image:images/edit_binding_jface2.gif[image]
--

For *TreeViewer* inputs, the *Input Bean Class*, *IObservableFactory*, *Tree Structure Advisor*, *Content Provider* and
*Label Provider* may be specified.

image:images/create_data_binding_tree_jface.gif[image]

In order to simplify this, the tool can generate a number of pre-defined helper classes that implement most of the
needed tree behavior.

image:images/create_data_binding_tree_designer.gif[image]

== Existing JFace Bindings

At the top of the page, existing *Bound Viewers* are listed. The *Content Provider* and *Input* are listed for each
viewer.

image:images/bound_viewers_jface.gif[image]

Clicking the image:images/data_binding_edit_button.gif[image] *Edit* button or *Edit* menu opens the *Edit Binding*
dialog where the providers may be modified.

--
image:images/edit_binding_jface3.gif[image]    
image:images/edit_binding_jface4.gif[image]
--

The image:images/data_binding_delete_button.gif[image] *Delete* button or *Delete* menu is used to delete the selected
bound viewer while the image:images/data_binding_delete_all_button.gif[image] *Delete All* button or *Delete All* menu
is used to delete all of the bound viewers.

The image:images/data_binding_move_up_button.gif[image] *Move Up* and
image:images/data_binding_move_down_button.gif[image] *Move Down* buttons and menus are used to change the order of the
bindings while the image:images/data_binding_goto_definition_button.gif[image] *Goto Definition* button and menu are
used to jump to the generated code for the binding.

== Source

As bindings are created or edited on the Bindings tab, the necessary data binding code is generated which may then be
seen in the *Source* view. An *initDataBindings()* method is created, if it does not already exist and a call to that
method is added to the end of the widget creation process.

Within the *initDataBindings()* method, any needed observables are created first followed by the creation of the
*Data Binding Context*. Simple SWT data bindings are then created using the new context followed by any JFace content
providers, list providers and inputs that are needed.

image:images/data_binding_source.gif[image]

WARNING: _do not edit the *initDataBinding()* method by hand (without carefully matching the code generation pattern
used by the tool) as it will be regenerated in its entirety any time the tool needs to add, remove or update a data
binding._